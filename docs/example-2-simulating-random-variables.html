<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Example 2: Simulating random variables | main.knit</title>
  <meta name="description" content="S2Y Lab 2<br />
Understanding correlation and further exploring relationships</div>" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Example 2: Simulating random variables | main.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Example 2: Simulating random variables | main.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="example-1-correlation.html"/>
<link rel="next" href="exercise-1-spurious-correlation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome to S2Y Lab 2</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="example-1-correlation.html"><a href="example-1-correlation.html"><i class="fa fa-check"></i><b>2</b> Example 1: Correlation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="example-1-correlation.html"><a href="example-1-correlation.html#exploratory-analysis"><i class="fa fa-check"></i><b>2.1</b> Exploratory analysis</a></li>
<li class="chapter" data-level="2.2" data-path="example-1-correlation.html"><a href="example-1-correlation.html#population-correlation-hypothesis-test"><i class="fa fa-check"></i><b>2.2</b> Population correlation hypothesis test</a></li>
<li class="chapter" data-level="2.3" data-path="example-1-correlation.html"><a href="example-1-correlation.html#calculating-the-correlation-by-hand"><i class="fa fa-check"></i><b>2.3</b> Calculating the correlation by hand</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="example-2-simulating-random-variables.html"><a href="example-2-simulating-random-variables.html"><i class="fa fa-check"></i><b>3</b> Example 2: Simulating random variables</a>
<ul>
<li class="chapter" data-level="3.1" data-path="example-2-simulating-random-variables.html"><a href="example-2-simulating-random-variables.html#independent-random-variables"><i class="fa fa-check"></i><b>3.1</b> Independent random variables</a></li>
<li class="chapter" data-level="3.2" data-path="example-2-simulating-random-variables.html"><a href="example-2-simulating-random-variables.html#correlated-random-variables"><i class="fa fa-check"></i><b>3.2</b> Correlated random variables</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exercise-1-spurious-correlation.html"><a href="exercise-1-spurious-correlation.html"><i class="fa fa-check"></i><b>4</b> Exercise 1: Spurious correlation</a></li>
<li class="chapter" data-level="5" data-path="exercise-2-identifying-relationships.html"><a href="exercise-2-identifying-relationships.html"><i class="fa fa-check"></i><b>5</b> Exercise 2: Identifying relationships</a></li>
<li class="chapter" data-level="6" data-path="solution.html"><a href="solution.html"><i class="fa fa-check"></i><b>6</b> Solution</a>
<ul>
<li class="chapter" data-level="6.1" data-path="solution.html"><a href="solution.html#task-1"><i class="fa fa-check"></i><b>6.1</b> Task 1</a></li>
<li class="chapter" data-level="6.2" data-path="solution.html"><a href="solution.html#task-2"><i class="fa fa-check"></i><b>6.2</b> Task 2</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><div class="line-block">S2Y Lab 2<br />
Understanding correlation and further exploring relationships</div></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="example-2-simulating-random-variables" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Example 2: Simulating random variables<a href="example-2-simulating-random-variables.html#example-2-simulating-random-variables" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>We can use <code>R</code> to generate random variables. Here we will generate two random variables, <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, that are, or aren't, related to each other in some form. This can help us understand the relationship between two variables and how they may be correlated.</p>
<div id="independent-random-variables" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Independent random variables<a href="example-2-simulating-random-variables.html#independent-random-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let's start by first generating two random variables that are independent of one another. You have already been introduced to the <strong>normal distribution</strong>, where some random variable, <span class="math inline">\(X\)</span>, is centred at mean <span class="math inline">\(\mu\)</span>, with variance <span class="math inline">\(\sigma^2\)</span>, such that <span class="math inline">\(X \sim N(\mu, \sigma^2)\)</span>.</p>
<p>To generate random variables from the normal distribution we can use the <code>rnorm</code> command. For example, let's say we want to generate <span class="math inline">\(n=30\)</span> samples from two random variables, <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, each with mean <span class="math inline">\(\mu = 10\)</span>, and standard deviation <span class="math inline">\(\sigma = 1\)</span>, we can do this as follows:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="example-2-simulating-random-variables.html#cb9-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb9-2"><a href="example-2-simulating-random-variables.html#cb9-2" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb9-3"><a href="example-2-simulating-random-variables.html#cb9-3" aria-hidden="true" tabindex="-1"></a>sigma <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb9-4"><a href="example-2-simulating-random-variables.html#cb9-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)</span>
<span id="cb9-5"><a href="example-2-simulating-random-variables.html#cb9-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)</span></code></pre></div>
<p>Note: since we are generating random numbers it is best to use the command <code>set.seed</code> beforehand to be able to replicate the results. For example, if we first run the line <code>set.seed(1)</code>, and then the above code, we will generate the same random variables <code>x</code> and <code>y</code>, and a different set if we change the seed value.</p>
<p>This gives us our random variables <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, generated independently of one another, and so we should expect to see no relationship between them. Using <code>set.seed(1)</code> to obtain <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, a scatterplot of their relationship is shown in Figure <a href="example-2-simulating-random-variables.html#fig:Practical2Plot1">3.1</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:Practical2Plot1"></span>
<img src="main_files/figure-html/Practical2Plot1-1.png" alt="Scatterplot and boxplots of two randomly generated variables $X$ and $Y$." width="70%" />
<p class="caption">
Figure 3.1: Scatterplot and boxplots of two randomly generated variables <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>.
</p>
</div>
<p><strong>DISCUSSION</strong>:</p>
<ol style="list-style-type: lower-alpha">
<li><p>What can we say about the relationship between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> from Figure <a href="example-2-simulating-random-variables.html#fig:Practical2Plot1">3.1</a>? What can be said about the two boxplots in Figure <a href="example-2-simulating-random-variables.html#fig:Practical2Plot1">3.1</a>?</p></li>
<li><p>Use the <code>cor.test</code> command to perform a correlation hypothesis test. What does this tell us about the relationship between the two variables?</p></li>
</ol>
</div>
<div id="correlated-random-variables" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Correlated random variables<a href="example-2-simulating-random-variables.html#correlated-random-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let us now look at how to generate random variables that are correlated in some way. To do that we will need to obtain the covariance or correlation matrix, and generate the random variables from a <strong>multivariate normal distribution</strong>. The multivariate normal distribution is a generalisation of the normal distribution to higher dimensions, and as multivariate data analysis is not covered until Honours level we will simplify things a little.</p>
<p>To generate correlated random variables we can use the <code>mvrnorm</code> command (load <code>library(MASS)</code>). This requires us to obtain the covariance matrix, <span class="math inline">\(\Sigma\)</span>, explaining the relationship between our two random variables. As you will find out in 2X, the covariance is scale dependent, and as such, the correlation is often easier to use and interpret.</p>
<p>We simplify things by generating random variables, <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, such that their variances are the same and equal to one. Assuming <span class="math inline">\(\text{Var}(X) = \text{Var}(Y) = 1\)</span>, we can then see from formula <a href="index.html#eq:eq1">(1.1)</a> that</p>
<p><span class="math display">\[\rho(X,Y) =\frac{\mathrm{Cov}(X,Y)}{\sqrt{\mathrm{Var}(X)\mathrm{Var}(Y)}} = \frac{\mathrm{Cov}(X,Y)}{\sqrt{1 \cdot 1}} = \mathrm{Cov}(X,Y),\]</span></p>
<p>that is, the correlation and covariance are the same. This now means that the covariance matrix, <span class="math inline">\(\Sigma\)</span>, and the correlation matrix, <span class="math inline">\(P\)</span>, are now equivalent, such that,</p>
<p><span class="math display">\[\Sigma = \begin{bmatrix} \text{Var}(X) &amp; \text{Cov}(X, Y) \\ \text{Cov}(X, Y) &amp; \text{Var}(Y) \end{bmatrix}  = \begin{bmatrix} 1 &amp; \rho(X, Y) \\ \rho(X, Y) &amp; 1 \end{bmatrix} = P\]</span></p>
<p>Now, let's say we want to generate two random variables, <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, from a multivariate normal distribution, such that <span class="math inline">\((X, Y) \sim N(\boldsymbol{\mu}, \Sigma)\)</span>. This can be done using the <code>mvrnorm</code> command as follows:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="example-2-simulating-random-variables.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb10-2"><a href="example-2-simulating-random-variables.html#cb10-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb10-3"><a href="example-2-simulating-random-variables.html#cb10-3" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">10</span>)</span>
<span id="cb10-4"><a href="example-2-simulating-random-variables.html#cb10-4" aria-hidden="true" tabindex="-1"></a>rho <span class="ot">&lt;-</span> <span class="fl">0.85</span></span>
<span id="cb10-5"><a href="example-2-simulating-random-variables.html#cb10-5" aria-hidden="true" tabindex="-1"></a>Sigma <span class="ot">&lt;-</span> <span class="fu">matrix</span>(rho, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span> <span class="fu">diag</span>(<span class="dv">2</span>) <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> rho)</span>
<span id="cb10-6"><a href="example-2-simulating-random-variables.html#cb10-6" aria-hidden="true" tabindex="-1"></a>rand.vars <span class="ot">&lt;-</span> <span class="fu">mvrnorm</span>(n, <span class="at">mu =</span> mu, <span class="at">Sigma =</span> Sigma)</span>
<span id="cb10-7"><a href="example-2-simulating-random-variables.html#cb10-7" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> rand.vars[, <span class="dv">1</span>]</span>
<span id="cb10-8"><a href="example-2-simulating-random-variables.html#cb10-8" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> rand.vars[, <span class="dv">2</span>]</span></code></pre></div>
<p>Here we have generated <span class="math inline">\(n = 30\)</span> random samples from a multivariate normal distribution for <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>, with mean vector <span class="math inline">\(\boldsymbol{\mu}^\top =\begin{bmatrix} \mu_X &amp; \mu_Y \end{bmatrix} = \begin{bmatrix}10 &amp; 10 \end{bmatrix}\)</span>, and correlation matrix, <span class="math inline">\(P\)</span>, such that <span class="math inline">\(\rho(X, Y) = 0.85\)</span>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:Practical2Plot2"></span>
<img src="main_files/figure-html/Practical2Plot2-1.png" alt="Scatterplot and boxplots of two randomly generated variables $X$ and $Y$." width="70%" />
<p class="caption">
Figure 3.2: Scatterplot and boxplots of two randomly generated variables <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>.
</p>
</div>
<p><strong>DISCUSSION</strong>:</p>
<ol style="list-style-type: lower-alpha">
<li><p>What can we say about the relationship between the random variables <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> from the scatterplot in Figure <a href="example-2-simulating-random-variables.html#fig:Practical2Plot2">3.2</a>?</p></li>
<li><p>Use the <code>cor.test</code> command to obtain an estimate of the sample correlation coefficient, <span class="math inline">\(r\)</span>. Is this the same as the correlation parameter, <span class="math inline">\(\rho\)</span>, used to generate the data?</p></li>
<li><p>What happens with the sample correlation, <span class="math inline">\(r\)</span>, and the `true' correlation, <span class="math inline">\(\rho\)</span>, as the number of samples, <span class="math inline">\(n\)</span>, increases?</p></li>
<li><p>Edit the <code>R</code> code to obtain a weak-to-moderate positive linear relationship between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>. Use a scatterplot to examine this relationship, and use the <code>cor.test</code> command to see if the sample correlation matches that used to simulate the data.</p></li>
<li><p>Generate two random variables that exhibit a moderate-to-strong negative linear relationship. Use a plot to display this relationship, and obtain an estimate of the sample correlation coefficient.</p></li>
</ol>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="example-1-correlation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercise-1-spurious-correlation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["main.pdf", "main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
